# Personal OpenClaw Agent Configuration
# Portable across cloud providers. Generated by create-openclaw-agent.
# This file does NOT contain secrets â€” they are stored in your cloud's secret manager.
#
# Usage:
#   - Generated automatically during setup
#   - Edit manually to adjust configuration
#   - Use with: ./setup.sh --config agent-config.yml (for migration)
#   - Included in backups for disaster recovery
version: 1

agent:
  name: my-agent                                   # VM name and agent identifier
  model:
    primary: anthropic/claude-sonnet-4-20250514     # Main LLM for the agent
  models:
    anthropic/claude-opus-4-5:
      alias: opus
      cacheRetention: short
    anthropic/claude-sonnet-4-20250514:
      alias: sonnet
      cacheRetention: short
    anthropic/claude-haiku-4-5-20251001:
      alias: haiku
  context:
    pruning: cache-ttl
    ttl: 30m                                      # Prune messages older than 30m (lower = less context overflow risk)
    compaction: safeguard
  heartbeat: 4h
  concurrency:
    max: 1
    subagents: 2

cloud:
  provider: gcp                                    # gcp | aws | azure
  gcp:
    project_id: my-gcp-project                     # Your GCP project ID
    region: us-central1                            # GCP region
    zone: us-central1-a                            # GCP zone
    machine_type: e2-medium                        # VM type (e2-medium recommended)
    disk_size_gb: 20                               # Boot disk size
    network: default                               # VPC network
    bucket_name: my-openclaw-backup                # GCS bucket for backups + state

secrets:
  provider: gcp-secret-manager                     # gcp-secret-manager | aws-secrets-manager | azure-keyvault
  prefix: openclaw                                 # Secret name prefix
  keys:
    - env: ANTHROPIC_API_KEY
      id: anthropic-api-key
    - env: OPENAI_API_KEY
      id: openai-api-key
    - env: MISTRAL_API_KEY
      id: mistral-api-key
    - env: OPENCLAW_GATEWAY_TOKEN
      id: gateway-token

plugins:
  mem0:
    enabled: true                                  # Persistent memory via Mem0
    mode: open-source                              # open-source (local) | platform (cloud)
    userId: default                                # Your user identifier for memories
    autoCapture: true                              # Extract facts from conversations
    autoRecall: true                               # Inject relevant memories before responses
    topK: 3                                        # Number of memories to recall (lower = less context usage)
    searchThreshold: 0.6                           # Similarity threshold for recall (higher = only highly relevant memories)
    llm:
      provider: anthropic                          # LLM for memory extraction
      model: claude-haiku-4-5-20251001             # Cheaper model for extraction
    embedder:
      provider: openai                             # Embedding provider
      model: text-embedding-3-small                # Cheapest embedding model
    vectorStore: qdrant                            # qdrant (persistent) | memory (volatile)

channels:
  whatsapp:
    enabled: true                                  # WhatsApp channel
    dmPolicy: pairing                              # pairing | open | closed
    selfChatMode: false
    groupPolicy: allowlist                         # allowlist | open
    mediaMaxMb: 50
    debounceMs: 3000                               # Batch rapid messages (ms)
    # allowFrom:                                   # Uncomment and add phone numbers
    #   - "+1234567890"

tools:
  audio:
    enabled: true                                  # Audio transcription
    language: en                                   # Default language
    provider: mistral
    model: voxtral-mini-latest
  browser:
    enabled: true                                  # Chrome headless browsing
    attachOnly: true
    defaultProfile: openclaw
    cdpUrl: http://127.0.0.1:9222

messages:
  ackReactionScope: group-mentions

timezone: UTC                                      # IANA timezone

backup:
  interval_hours: 6                                # Hours between automatic backups
  retention_days: 90                               # Days to retain backups
